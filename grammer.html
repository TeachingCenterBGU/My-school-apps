<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>砖 转转 - 砖拽 转</title>
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #00cec9;
            --wrong: #ff7675;
            --correct: #55efc4;
            --bg: #dfe6e9;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        h1 {
            color: var(--primary);
            font-size: 2em;
            margin-bottom: 10px;
        }

        /* 住驻转  转 -ID 砖住专  砖拽  转 住专转 */
        .game-container {
            background: var(--card-bg);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 500px;
            width: 90%;
            position: relative;
            overflow: hidden;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #eee;
            border-radius: 5px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--secondary);
            width: 0%;
            transition: width 0.3s ease;
        }

        .word-display {
            font-size: 3.5em;
            margin-bottom: 40px;
            color: #2d3436;
            letter-spacing: 2px;
        }

        .missing-letter {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
            padding: 0 10px;
            display: inline-block;
            min-width: 50px;
        }

        .options-container {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .option-btn {
            background: white;
            border: 3px solid var(--primary);
            color: var(--primary);
            font-size: 2em;
            padding: 15px 40px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .option-btn:hover {
            transform: translateY(-3px);
            background: var(--primary);
            color: white;
        }

        .option-btn:active {
            transform: scale(0.95);
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
            transform: none !important;
        }

        .feedback {
            margin-top: 20px;
            height: 30px;
            font-size: 1.2em;
            font-weight: bold;
        }

        .score-display {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 1.2em;
            font-weight: bold;
            color: #636e72;
        }

        .shake {
            animation: shake 0.5s;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }

        .pulse {
            animation: pulse 0.3s;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .category-badge {
            background: #ffeaa7;
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 20px;
            font-weight: bold;
            color: #d63031;
        }

        #end-screen {
            display: none;
        }

        button.restart-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.2em;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1>砖 转转 </h1>
    <p>砖 转 转 住专 </p>

    <div class="game-container" id="game-container">
        <div id="game-screen">
            <div class="score-display">拽: <span id="score">0</span></div>
            <div class="category-badge" id="category-label">  注?</div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>

            <div class="word-display" id="word-display">
                </div>

            <div class="options-container" id="buttons-container">
                </div>

            <div class="feedback" id="feedback-text"></div>
        </div>

        <div id="end-screen">
            <h2 style="font-size: 3em;"> ! </h2>
            <p style="font-size: 1.5em;">爪转 转拽 转  !</p>
            <p>爪 住驻 砖: <span id="final-score" style="color: var(--primary); font-weight: bold;"></span></p>
            <button class="restart-btn" onclick="startGame()">砖拽 砖</button>
        </div>
    </div>

    <script>
        const allWords = [
            //  - 注
            { word: "__", correct: "", wrong: "注", full: "址职旨址职指", type: "'  注'" },
            { word: "爪执__止执", correct: "注", wrong: "", full: "爪执职注止执", type: "'  注'" },
            { word: "__专职指", correct: "址", wrong: "注址", full: "址专职指", type: "'  注'" },
            { word: "址注植__旨注址", correct: "旨", wrong: "", full: "旨址注植旨注址", type: "'  注'" },
            { word: "驻旨执转__止", correct: "", wrong: "注", full: "驻旨执转职止", type: "'  注'" },
            { word: "__旨指", correct: "注", wrong: "", full: "注旨指", type: "'  注'" },
            
            //  - 转 (转拽:  注 ')
            { word: "址职__执指", correct: "", wrong: "转", full: "址职执指", type: "'  转'" },
            { word: "__旨旨执", correct: "转旨", wrong: "旨", full: "转旨旨旨执", type: "'  转'" },
            { word: "__职执职指", correct: "", wrong: "转", full: "侄侄执职指", type: "'  转'" },
            { word: "址职指__", correct: "", wrong: "转", full: "址职指指", type: "'  转'" },
            { word: "__止转指职", correct: "", wrong: "注", full: "止转指职", type: "'  注'" }, 
            { word: "旨执__指", correct: "转", wrong: "", full: "旨执转旨指", type: "'  转'" },
            { word: "砖职执__指", correct: "", wrong: "转", full: "砖职执指", type: "'  转'" },

            //  -  - 拽
            { word: "__转旨旨", correct: "", wrong: "", full: "指转旨", type: "'  '" },
            { word: "__旨旨专", correct: "旨", wrong: "拽", full: "旨址旨旨专", type: "旨'  拽'" },
            { word: "执砖职__指拽", correct: "", wrong: "", full: "执砖职指拽", type: "'  '" },
            { word: "__指", correct: "拽", wrong: "旨", full: "拽指指", type: "旨'  拽'" },
            { word: "执旨旨__", correct: "", wrong: "", full: "执旨旨址", type: "'  '" }
        ];

        const words = allWords.filter(w => !w.ignore);

        let currentQuestionIndex = 0;
        let score = 0;
        let shuffledWords = [];

        function startGame() {
            score = 0;
            currentQuestionIndex = 0;
            shuffledWords = [...words].sort(() => Math.random() - 0.5);
            
            document.getElementById('end-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            updateScore();
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex >= shuffledWords.length) {
                endGame();
                return;
            }

            const q = shuffledWords[currentQuestionIndex];
            
            document.getElementById('category-label').textContent = q.type;
            document.getElementById('feedback-text').textContent = '';
            
            const progress = (currentQuestionIndex / shuffledWords.length) * 100;
            document.getElementById('progress').style.width = `${progress}%`;

            const wordDisplay = document.getElementById('word-display');
            wordDisplay.innerHTML = q.word.replace('__', '<span class="missing-letter">?</span>');

            const container = document.getElementById('buttons-container');
            container.innerHTML = '';

            const options = [
                { text: q.correct, isCorrect: true },
                { text: q.wrong, isCorrect: false }
            ].sort(() => Math.random() - 0.5);

            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = opt.text;
                btn.onclick = () => handleAnswer(btn, opt.isCorrect, q);
                container.appendChild(btn);
            });
        }

        function handleAnswer(btn, isCorrect, questionData) {
            const container = document.getElementById('buttons-container');
            
            // 注 转  驻转专 转
            Array.from(container.children).forEach(b => b.disabled = true);

            if (isCorrect) {
                btn.style.backgroundColor = 'var(--correct)';
                btn.style.borderColor = '#00b894';
                btn.style.color = '#fff';
                
                document.getElementById('word-display').innerHTML = questionData.full;
                document.getElementById('word-display').classList.add('pulse');
                
                document.getElementById('feedback-text').textContent = ' ! ';
                document.getElementById('feedback-text').style.color = '#00b894';
                score += 10;
                
                setTimeout(() => {
                    document.getElementById('word-display').classList.remove('pulse');
                    currentQuestionIndex++;
                    loadQuestion();
                }, 1200);

            } else {
                btn.style.backgroundColor = 'var(--wrong)';
                btn.style.borderColor = '#d63031';
                btn.style.color = '#fff';
                
                const gameContainer = document.getElementById('game-container');
                if(gameContainer) {
                    gameContainer.classList.add('shake');
                }
                
                document.getElementById('feedback-text').textContent = '驻住, 住 砖...';
                document.getElementById('feedback-text').style.color = '#d63031';
                
                setTimeout(() => {
                    if(gameContainer) {
                        gameContainer.classList.remove('shake');
                    }
                    // 砖专专 转 驻转专 专  驻砖专 住 住祝
                    Array.from(container.children).forEach(b => {
                        if (b !== btn) {
                            b.disabled = false;
                        }
                    });
                }, 800);
            }
            updateScore();
        }

        function updateScore() {
            document.getElementById('score').textContent = score;
        }

        function endGame() {
            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('end-screen').style.display = 'block';
            document.getElementById('final-score').textContent = score;
        }

        startGame();
    </script>
</body>
</html>
