<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>专  住 - 转 ' (专)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&display=swap');

        body {
            font-family: 'Rubik', sans-serif;
            background-color: #f0f8ff;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 650px;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        h1 { color: #2c3e50; margin-bottom: 10px; }
        h2 { color: #555; font-size: 1.1em; }

        .visual-area {
            height: 220px;
            background: #fff;
            border: 2px solid #eef2f5;
            border-radius: 15px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        svg {
            max-width: 90%;
            max-height: 90%;
            overflow: visible; /* 驻砖专 拽住 专 注  爪专 */
        }
        
        /* 注爪 拽住 转 -SVG */
        svg text {
            font-family: 'Rubik', sans-serif;
            font-weight: bold;
            text-anchor: middle; /* 专 转 拽住 住 拽 */
            dominant-baseline: middle;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .option-btn {
            background: #e3f2fd;
            border: 2px solid #bbdefb;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.2s;
            color: #1565c0;
            font-weight: bold;
        }

        .option-btn:hover { background: #bbdefb; transform: translateY(-2px); }

        .option-btn.correct { background: #c8e6c9; border-color: #4caf50; color: #2e7d32; }
        .option-btn.wrong { background: #ffcdd2; border-color: #f44336; color: #c62828; }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            display: none;
        }

        .next-btn {
            background: #ff9800;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            display: none;
            box-shadow: 0 4px 0 #e65100;
        }

        .next-btn:active { transform: translateY(4px); box-shadow: none; }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #4caf50;
            width: 0%;
            transition: width 0.3s ease;
        }

        .hidden { display: none; }
        .grid-bg {
            background-image: linear-gradient(#e0e0e0 1px, transparent 1px), linear-gradient(90deg, #e0e0e0 1px, transparent 1px);
            background-size: 20px 20px;
        }
    </style>
</head>
<body>

<div class="container" id="start-screen">
    <h1> 专 住 </h1>
    <p>20 砖转 注 砖砖, 专注, 砖专 转.</p>
    <p>砖  住  注 爪注转 转!</p>
    <button class="next-btn" style="display:inline-block" onclick="startGame()">转</button>
</div>

<div class="container hidden" id="quiz-screen">
    <div class="progress-bar">
        <div class="progress-fill" id="progress"></div>
    </div>
    <div id="question-container"></div>
    <div id="feedback" class="feedback"></div>
    <button id="next-btn" class="next-btn" onclick="nextQuestion()">砖 </button>
</div>

<div class="container hidden" id="end-screen">
    <h1>住转! </h1>
    <div style="font-size: 3em; color: #2196f3; margin: 20px 0;" id="final-score"></div>
    <p id="score-message"></p>
    <button class="next-btn" style="display:inline-block; background:#2196f3;" onclick="location.reload()">转 砖</button>
</div>

<script>
    const questions = [
        // --- 砖转 砖砖 转 (转拽转 注 砖专 拽住) ---
        {
            type: "classify",
            text: "驻 转 转转,  住 砖砖 ?",
            svg: `<svg viewBox="0 0 250 160">
                    <polygon points="30,140 220,140 125,30" fill="none" stroke="black" stroke-width="3"/>
                    <text x="50" y="125" fill="red" font-size="16">65掳</text>
                    <text x="200" y="125" fill="red" font-size="16">65掳</text>
                    <text x="125" y="60" fill="red" font-size="16">50掳</text>
                  </svg>`,
            options: ["砖砖 砖专 转", "砖砖  转", "砖砖 拽 转"],
            correct: 1,
            explanation: " 转 拽转 -90 注转 (50, 65, 65),    转."
        },
        {
            type: "visual",
            text: " 住 拽 拽 注 爪注转 砖砖?",
            svg: `<svg viewBox="0 0 200 180">
                    <polygon points="100,20 30,150 170,150" fill="none" stroke="black" stroke-width="3"/>
                    <line x1="60" y1="80" x2="75" y2="90" stroke="blue" stroke-width="3" />
                    <line x1="140" y1="80" x2="125" y2="90" stroke="blue" stroke-width="3" />
                    <line x1="100" y1="140" x2="100" y2="160" stroke="blue" stroke-width="3" />
                  </svg>`,
            options: ["砖砖砖 砖专 转", "砖 爪注转 砖转 (砖 爪注转)", "砖砖  专拽 砖转 爪注转 砖转"],
            correct: 1,
            explanation: "住 驻注 注  砖砖 爪注转, 住 砖 砖转 专."
        },
        {
            type: "calc",
            text: "砖 转 转 住专 (驻):",
            svg: `<svg viewBox="0 0 200 150">
                    <polygon points="20,20 20,130 150,130" fill="none" stroke="black" stroke-width="3"/>
                    <rect x="20" y="110" width="20" height="20" fill="none" stroke="black" />
                    <text x="120" y="120" font-size="16">30掳</text>
                    <text x="40" y="50" font-size="16">伪?</text>
                  </svg>`,
            options: ["60 注转", "90 注转", "30 注转", "150 注转"],
            correct: 0,
            explanation: "砖砖 砖专 转 砖 转 砖 90. 注砖: 180 - 90 - 30 = 60."
        },
        // --- 砖转 砖转:  砖专 爪注 ---
        {
            type: "visual",
            text: " 专注 (专驻).   爪注转 拽?",
            svg: `<svg viewBox="0 0 200 150">
                    <polygon points="50,120 150,120 120,50 80,50" fill="#f9f9f9" stroke="black" stroke-width="3"/>
                    <text x="100" y="40" fill="purple" font-size="14">注</text>
                    <text x="100" y="140" fill="purple" font-size="14"></text>
                    <text x="40" y="90" fill="orange" font-size="14">砖</text>
                    <text x="160" y="90" fill="orange" font-size="14"></text>
                  </svg>`,
            options: ["爪注转 住转 (注 )", "爪注转 转转 ( 砖)"],
            correct: 0,
            explanation: "爪注转 住转 注  驻砖  砖 转,   拽转."
        },
        {
            type: "visual",
            text: "砖砖  砖 住  驻.  砖砖 ?",
            svg: `<svg viewBox="0 0 200 150">
                    <polygon points="50,130 150,130 50,30" fill="none" stroke="black" stroke-width="3"/>
                    <rect x="50" y="110" width="20" height="20" fill="none" stroke="red" stroke-width="2"/>
                    <line x1="45" y1="80" x2="55" y2="80" stroke="blue" stroke-width="3"/>
                    <line x1="95" y1="135" x2="95" y2="125" stroke="blue" stroke-width="3"/>
                  </svg>`,
            options: ["专拽 砖专 转", "专拽 砖 砖拽", " 砖专 转  砖 砖拽"],
            correct: 2,
            explanation: "专注  住 转 砖专, 拽  住 砖转 爪注转 砖转."
        },
        {
            type: "logic",
            text: ",  转 砖 爪注转  转  ?",
            svg: `<svg viewBox="0 0 200 120">
                    <rect x="30" y="20" width="140" height="80" fill="none" stroke="black" stroke-width="3"/>
                    <rect x="30" y="20" width="15" height="15" fill="none" stroke="black"/>
                    <rect x="155" y="20" width="15" height="15" fill="none" stroke="black"/>
                    <rect x="30" y="85" width="15" height="15" fill="none" stroke="black"/>
                    <rect x="155" y="85" width="15" height="15" fill="none" stroke="black"/>
                  </svg>`,
            options: ["爪注转 住转 (砖注转  )", "爪注转 转 (砖 )"],
            correct: 0,
            explanation: ",  砖转 爪注转 砖注转 转 砖 爪专转 转 砖 90 注转 (转)."
        },
        // --- 专 拽住拽转 注 砖驻专 ---
        {
            type: "calc",
            text: "砖砖 砖 砖拽 转 专砖  100 注转.   转 住住?",
            svg: `<svg viewBox="0 0 250 120">
                    <polygon points="20,100 230,100 125,20" fill="none" stroke="black" stroke-width="3"/>
                    <text x="125" y="50" font-size="16">100掳</text>
                    <text x="40" y="90" font-size="16">?</text>
                    <text x="210" y="90" font-size="16">?</text>
                  </svg>`,
            options: ["40 注转  转", "80 注转  转", "100 注转  转"],
            correct: 0,
            explanation: "180 - 100 = 80. 转 -80 转专 拽 砖 砖  砖转 专: 40  转."
        },
        {
            type: "visual",
            text: " 住 砖砖 驻注 砖专?",
            svg: `<svg viewBox="0 0 200 150">
                    <polygon points="50,120 150,120 10,50" fill="none" stroke="black" stroke-width="3"/>
                    <path d="M 50 120 A 20 20 0 0 1 40 100" fill="none" stroke="red" stroke-width="2"/> 
                    <text x="65" y="105" fill="red" font-size="14">110掳</text>
                  </svg>`,
            options: [" 转", "拽 转", "砖专 转"],
            correct: 1,
            explanation: "砖  转 转  -90 (110 注转),   拽 转."
        },
        {
            type: "grid",
            text: " 专砖转 拽转.   砖专  ?",
            svg: `<svg viewBox="0 0 200 150" class="grid-bg">
                    <line x1="20" y1="20" x2="80" y2="80" stroke="blue" stroke-width="3"/>
                    <line x1="80" y1="20" x2="20" y2="80" stroke="blue" stroke-width="3"/>
                    <text x="50" y="100" fill="blue"></text>
                    
                    <line x1="120" y1="20" x2="180" y2="20" stroke="green" stroke-width="3"/>
                    <line x1="120" y1="40" x2="180" y2="40" stroke="green" stroke-width="3"/>
                    <text x="150" y="60" fill="green"></text>
                  </svg>`,
            options: [" ' ()", " ' (专拽)"],
            correct: 0,
            explanation: "砖专  爪  转  爪专 爪专转 '驻住'  '拽住' 转 砖专. 专拽 拽."
        },
        {
            type: "logic",
            text: " 砖砖 转 转 砖转 转 砖 90 注转?",
            svg: null,
            options: ["", ""],
            correct: 1,
            explanation: ". 住 转  180.  砖转  90, 注 -180  砖专  转 砖砖转 (砖砖  住专)."
        },
        // --- 注 砖转  ---
        {
            type: "visual",
            text: " 爪专 砖 砖 转 砖 爪注转 拽转?",
            svg: `<svg viewBox="0 0 250 120">
                    <polygon points="20,100 80,100 100,40 40,40" fill="none" stroke="black" stroke-width="3"/>
                    <text x="60" y="115" font-size="12">爪专 '</text>
                    <polygon points="140,100 220,100 200,40 160,40" fill="none" stroke="black" stroke-width="3"/>
                    <text x="180" y="115" font-size="12">爪专 '</text>
                  </svg>`,
            options: ["爪专 ' (拽转)", "爪专 ' (专驻)"],
            correct: 0,
            explanation: "拽转 (爪专 ') 爪注转 注/ 拽转,  /砖 拽转. 专驻 专拽   拽."
        },
        {
            type: "visual",
            text: " 住 砖砖  驻 爪注转?",
            svg: `<svg viewBox="0 0 200 150">
                    <polygon points="20,130 150,130 60,30" fill="none" stroke="black" stroke-width="3"/>
                    <text x="85" y="145" font-size="14">8 住状</text>
                    <text x="25" y="80" font-size="14">10 住状</text>
                    <text x="120" y="80" font-size="14">12 住状</text>
                  </svg>`,
            options: ["砖 砖拽", "砖 爪注转", "砖 爪注转"],
            correct: 2,
            explanation: " 爪注转 专 砖 (8, 10, 12),   砖砖 砖 爪注转."
        },
        {
            type: "logic",
            text: " 拽专转 爪注 砖爪转  转 砖 -90 注转 砖砖 砖专 转?",
            svg: `<svg viewBox="0 0 200 120">
                     <polygon points="50,100 150,100 50,20" fill="none" stroke="black" stroke-width="2"/>
                     <rect x="50" y="80" width="20" height="20" fill="none" stroke="black"/>
                     <line x1="160" y1="60" x2="110" y2="60" stroke="red" marker-end="url(#arrow)" />
                     <text x="180" y="65" fill="red">?</text>
                  </svg>`,
            options: ["爪", "转专", ""],
            correct: 1,
            explanation: "爪注 专 砖 转 砖专 拽专转 '转专'."
        },
{
            type: "visual",
            text: " 砖.  转 砖 拽 拽 住 砖专?",
            svg: `<svg viewBox="0 0 200 180">
                    <polygon points="50,160 150,160 150,90 100,30 50,90" fill="none" stroke="#ccc" stroke-width="2"/>
                    
                    <line x1="50" y1="160" x2="50" y2="90" stroke="blue" stroke-width="4"/>
                    
                    <line x1="150" y1="160" x2="150" y2="90" stroke="blue" stroke-width="4"/>
                  </svg>`,
            options: ["  ()", "砖 转", " "],
            correct: 0,
            explanation: "拽    '拽专转' 砖专 砖注   ,   拽 ( )."
        },
        {
            type: "calc",
            text: "转 砖砖 注 转: 70 注转 -40 注转.  转 砖砖转?",
            svg: null,
            options: ["80 注转", "70 注转", "100 注转"],
            correct: 1,
            explanation: "180 - 70 - 40 = 70. 拽 砖转 转 砖 70,    砖砖 砖 砖拽!"
        },
        {
            type: "visual",
            text: "住 转 砖驻   专注 :",
            svg: `<svg viewBox="0 0 200 120">
                    <polygon points="50,100 150,100 120,20 80,20" fill="none" stroke="black" stroke-width="3"/>
                    <line x1="45" y1="60" x2="155" y2="60" stroke="transparent"/>
                  </svg>`,
            options: [" 专驻 砖 砖拽", " 拽转", " "],
            correct: 0,
            explanation: "砖  爪注转 拽转 (住住)  爪注转 爪 砖专转 砖转 专 (砖拽)."
        },
        {
            type: "logic",
            text: "  转 砖砖 注 爪注转 专: 2 住状, 3 住状 -10 住状?",
            svg: null,
            options: ["", ""],
            correct: 1,
            explanation: ". 砖砖, 住  砖转 爪注转  转  砖砖转. 2+3  专拽 5,   注 -10."
        },{
            type: "visual",
            text: " 砖 转.   砖专  ?",
            svg: `<svg viewBox="0 0 300 150">
                    <text x="75" y="30" font-size="18" fill="purple"></text>
                    <line x1="20" y1="130" x2="130" y2="130" stroke="black" stroke-width="3"/>
                    <line x1="40" y1="130" x2="110" y2="40" stroke="black" stroke-width="3"/>
                    <line x1="150" y1="10" x2="150" y2="140" stroke="#ddd" stroke-dasharray="5,5" stroke-width="2"/>
                    <text x="225" y="30" font-size="18" fill="purple"></text>
                    <line x1="170" y1="130" x2="280" y2="130" stroke="black" stroke-width="3"/>
                    <line x1="225" y1="130" x2="225" y2="50" stroke="black" stroke-width="3"/>
                    <rect x="225" y="115" width="15" height="15" fill="none" stroke="red" stroke-width="2"/>
                  </svg>`,
            options: [" '", " '"],
            correct: 1,
            explanation: " ' 砖专 爪专 转 砖专 (90 注转) 砖 住 砖 专注 .  '  住转 转."
        },
        {
            type: "grid",
            text: "注 专砖转 拽转 住专 砖砖.   ?",
            svg: `<svg viewBox="0 0 200 150" class="grid-bg">
                    <polygon points="40,120 160,120 40,40" fill="none" stroke="black" stroke-width="3"/>
                  </svg>`,
            options: [" 砖专 转", " 拽 转", " 砖 爪注转"],
            correct: 0,
            explanation: "爪注转 砖转 拽 注 拽 专砖转 驻砖转 驻,   转 砖专."
        },
        {
            type: "calc",
            text: "砖 专! 砖砖 砖 爪注转.    转 ?",
            svg: `<svg viewBox="0 0 200 150">
                    <polygon points="50,130 150,130 100,43" fill="none" stroke="black" stroke-width="3"/>
                    <text x="100" y="90" font-size="20">?</text>
                  </svg>`,
            options: ["60 注转", "90 注转", "45 注转"],
            correct: 0,
            explanation: "砖砖 砖 爪注转,  转 砖转. 180 拽 -3 砖 60."
        }
    ];

    let currentQuestion = 0;
    let score = 0;

    function startGame() {
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        renderQuestion();
    }

    function renderQuestion() {
        const q = questions[currentQuestion];
        const container = document.getElementById('question-container');
        const progress = document.getElementById('progress');
        
        const percent = ((currentQuestion) / questions.length) * 100;
        progress.style.width = percent + '%';

        document.getElementById('feedback').style.display = 'none';
        document.getElementById('next-btn').style.display = 'none';

        let html = `<h2>砖 ${currentQuestion + 1} 转 ${questions.length}</h2>`;
        
        if (q.svg) {
            html += `<div class="visual-area ${q.type === 'grid' ? 'grid-bg' : ''}">${q.svg}</div>`;
        }

        html += `<h3>${q.text}</h3>`;
        html += `<div class="options-grid">`;
        
        q.options.forEach((opt, index) => {
            html += `<div class="option-btn" onclick="checkAnswer(${index}, this)">${opt}</div>`;
        });
        
        html += `</div>`;
        
        container.innerHTML = html;
    }

    function checkAnswer(selectedIndex, btnElement) {
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(btn => btn.style.pointerEvents = 'none');

        const q = questions[currentQuestion];
        const feedbackEl = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');

        if (selectedIndex === q.correct) {
            btnElement.classList.add('correct');
            feedbackEl.innerHTML = " !  " + q.explanation;
            feedbackEl.style.backgroundColor = "#e8f5e9";
            feedbackEl.style.color = "#2e7d32";
            score++;
        } else {
            btnElement.classList.add('wrong');
            buttons[q.correct].classList.add('correct'); 
            feedbackEl.innerHTML = " 专. 转砖  : " + q.options[q.correct] + ".<br>" + q.explanation;
            feedbackEl.style.backgroundColor = "#ffebee";
            feedbackEl.style.color = "#c62828";
        }

        feedbackEl.style.display = 'block';
        nextBtn.style.display = 'inline-block';
    }

    function nextQuestion() {
        currentQuestion++;
        if (currentQuestion < questions.length) {
            renderQuestion();
        } else {
            endGame();
        }
    }

    function endGame() {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('end-screen').classList.remove('hidden');
        
        const finalScoreEl = document.getElementById('final-score');
        const messageEl = document.getElementById('score-message');
        
        finalScoreEl.textContent = `${score} / ${questions.length}`;
        
        if (score > 18) {
            messageEl.textContent = "! 驻 转转! 转 专  ! ";
        } else if (score > 15) {
            messageEl.textContent = "注 专转! 砖 驻  专. ";
        } else {
            messageEl.textContent = "  注 转! 砖 转专 砖 转 砖转 砖注转 . ";
        }
    }
</script>

</body>
</html>
